# 🗺️ AGStock Next-Gen Roadmap (2025-2026)

**Vision**: 個人用ツールから「自律型AIヘッジファンド」システムへの進化

---

## 🏁 進捗状況 (2025-12-20 現在)

✅ **Phase 1-3**: 基礎構築＆予測エンジン (完了)
✅ **Phase 19**: リアルタイム監視システム (完了)
✅ **Phase 20**: 説明可能AI (XAI) - SHAP/Feature Importance (完了)
✅ **Phase 23**: 強化学習 (RL) - DQN Agent (完了)
✅ **Feature**: 戦略アリーナ (バックテスト比較ラボ) (完了)
✅ **Feature**: True Autonomy Core (パフォーマンス最適化、永続キャッシュ、耐障害構成設定) (完了)
✅ **Phase 21**: マルチタイムフレーム戦略 (フィルタリング実装完了)
✅ **Phase 27**: LLM金融アナリスト (ニュース分析基礎完了)
✅ **Phase 31**: 予測エンジン統一アーキテクチャ (完了 - 2025-12-20) 🆕
✅ **Phase 32**: AI投資委員会の高度化 (完了 - 2025-12-20) 🆕

---

## 🚀 Future Roadmap: "The Hedge Fund Era"

### 🛡️ Phase 21+: マルチタイムフレーム宇宙 (Deep Dive)
**優先度: 中**
- **概念**: さらに深い時間軸解析。
- **実装**: 
  - フラクタル構造解析
  - 異なる時間軸の相関マップ作成

### 🧠 Phase 31: 予測エンジン統一アーキテクチャ
**優先度: 最高 (完了)**
**Status**: ✅ COMPLETED (2025-12-20) - PR #69
- **概念**: 全ての予測モデルを統一されたインターフェースで管理。
- **実装**:
  - `BasePredictor` 抽象基底クラスの導入
  - 12以上の予測クラスのリファクタリング
  - RecursionError、クラス定義上書き等のバグ修正
  - データ前処理の改善（タイムゾーン、カテゴリカル変数）

### 🏛️ Phase 32: AI投資委員会の高度化
**優先度: 最高 (完了)**
**Status**: ✅ COMPLETED (2025-12-20) - PR #69
- **概念**: 投資委員会に定量的予測データを統合し、より深い洞察に基づく判断を実現。
- **実装**:
  - `EnhancedEnsemblePredictor` を `InvestmentCommittee` に統合
  - `MarketAnalyst` の改良（LLM + 定量的予測の融合）
  - 予測レポートの自動生成と委員会への伝達

### ⚡ Phase 33: TFTモデル最適化
**優先度: 高**
**Status**: 🔄 IN PROGRESS
- **概念**: Transformerモデル（TFT）の学習エラーを解消し、実戦投入。
- **実装**:
  - 詳細なエラーハンドリングとログ出力 ✅
  - 入力データ形状の検証と自動調整 ✅
  - ハイパーパラメータチューニング 📋
  - 時系列シーケンス生成の改善 📋

### 📊 Phase 34: 予測ダッシュボードUI v2
**優先度: 中**
**Status**: 📋 PLANNED
- **概念**: 各モデルの予測詳細を可視化し、ユーザー体験を向上。
- **実装**:
  - モデル別予測内訳コンポーネント ✅
  - 信頼度スコアのビジュアル表示 ✅
  - 予測根拠の詳細パネル ✅
  - ダッシュボードへの統合 📋

### 🤖 Phase 28: LLM決算分析 (Earnings Hunter)
**優先度: 最高 (Next Step)**
- **概念**: 「決算短信(PDF)を読むAI」。数値を読むだけでなく、経営陣のトーンやテキスト情報を分析。
- **実装**:
  - **RAG (Retrieval-Augmented Generation)**: PDF読み込み
  - 決算発表時の自動アラート & 速報分析

### 🤖 Phase 28: LLM決算分析 (Earnings Hunter)
**優先度: 最高 (Next Step)**
- **概念**: 「決算短信(PDF)を読むAI」。数値を読むだけでなく、経営陣のトーンやテキスト情報を分析。
- **実装**:
  - **RAG (Retrieval-Augmented Generation)**: PDF読み込みとベクトル検索の実装
  - 決算発表時の自動アラート & 速報分析
  - ローカルLLM (Ollama/Gemma) でのコスト削減オプション

### ⚡ Phase 25: クラウド・ネイティブ完全運用 (Cloud Native)
**優先度: 保留/オプション**
- **概念**: クラウドでの24時間運用（ユーザー希望により凍結中）。
- **実装**:
  - 必要な場合はDockerコンテナを利用可能（設定済み）

### 🤖 Phase 27: LLM金融アナリスト (Financial Analyst Agent)
**優先度: 高**
**優先度: 高**
- **概念**: 「文章を読むAI」。数値だけでなく、決算短信(PDF)やニュースの文脈を深く理解する。
- **実装**:
  - **RAG (Retrieval-Augmented Generation)**: 財務諸表を読み込ませてAIと対話
  - "Fed Watcher": 中央銀行の議事録から金利感応度をスコアリング
  - ニュース・インパクト分析の自動化

### 💰 Phase 22: オプション & デリバティブ (Derivatives)
**優先度: 中**
- **概念**: 「下落相場でも勝つ」。
- **実装**:
  - Black-Scholes モデル実装
  - デルタ・ヘッジ戦略
  - VIX先物を利用したクラッシュプロテクション

### 🌐 Phase 26: クロスアセット・アービトラージ (Cross-Asset)
**優先度: 中**
- **概念**: 「株式市場の外へ」。
- **実装**:
  - 暗号資産 (BTC/ETH) 対応
  - 金 (Gold)・原油との相関トレード
  - ドル円為替ヘッジの自動化

### 🧠 Phase 24: グラフニューラルネットワーク (GNN)
**優先度: 低 (Research)**
- **概念**: 「世界はつながっている」。
- **実装**:
  - 企業間のサプライチェーン関係をグラフ化
  - 「トヨタが上がればデンソーも上がる」等の波及効果予測

---

## 📅 推奨実装スケジュール

| 時期 | フェーズ | 内容 |
|:---:|:---:|:---|
| **今週** | **Phase 21** | **マルチタイムフレーム分析** (精度底上げ) |
| **来週** | **Phase 27** | **LLM金融アナリスト** (定性分析強化) |
| **1月** | **Phase 25** | **クラウド完全移行** (24時間稼働) |
| **2月** | **Phase 22** | オプション取引導入 |
| **3月~** | **Phase 26+** | 暗号資産・GNNなど実験的機能 |

---

## 💡 AIからの提案 (Editor's Pick)
クラウド運用を行わない方針に基づき、**「デスクトップ上の最強アナリスト」**を進化させるルートに変更しました。

1.  **Phase 28 (Earnings Hunter)**: 
    *   次回実装推奨。PCで動かしながら、AIが企業の最新PDF（決算短信）を読み込み、要約・スコアリングしてくれます。
    *   「自分が読む時間をゼロにする」ことが最大のメリットです。

2.  **Phase 22 (Options Strategy)**:
    *   24時間稼働しない場合、市場の急変に対応できないリスクがあります。
    *   「プットオプション」などを組み合わせることで、**アプリを起動していない間の暴落リスク**をヘッジする機能を提案します。

まずは **Phase 28 (決算分析)** の実装をお勧めします。
